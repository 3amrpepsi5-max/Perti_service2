<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="ุฅุฏุงุฑุฉ ุงูุทูุจุงุช - ุฎุฏูุงุช ุงููุฒูุฉ 2">
    <meta name="theme-color" content="#FF6600">
    <link rel="icon" type="image/png" href="./assets/favicon.png">
    <link rel="stylesheet" href="./styles.css">
    <link rel="stylesheet" href="./vendor-dashboard.css">
    <title>ุฅุฏุงุฑุฉ ุงูุทูุจุงุช - ุฎุฏูุงุช ุงููุฒูุฉ 2</title>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-spinner"></div>
    </div>

    <!-- Header -->
    <header class="vendor-header">
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <span class="logo-icon">๐ช</span>
                    <div class="logo-text">
                        <h1>ุฅุฏุงุฑุฉ ุงูุทูุจุงุช</h1>
                        <p>ุฎุฏูุงุช ุงููุฒูุฉ 2</p>
                    </div>
                </div>
                <nav class="vendor-nav">
                    <a href="vendor-dashboard.html" class="nav-btn">
                        <span class="nav-icon">๐</span>
                        <span class="nav-text">ุงูุฑุฆูุณูุฉ</span>
                    </a>
                    <a href="vendor-orders.html" class="nav-btn active">
                        <span class="nav-icon">๐ฆ</span>
                        <span class="nav-text">ุงูุทูุจุงุช</span>
                        <span class="badge">5</span>
                    </a>
                    <a href="#" class="nav-btn" id="profileBtn">
                        <span class="nav-icon">๐ค</span>
                        <span class="nav-text">ุงูููู ุงูุชุฌุงุฑู</span>
                    </a>
                    <a href="#" class="nav-btn logout-btn" id="logoutBtn">
                        <span class="nav-icon">๐ช</span>
                        <span class="nav-text">ุชุณุฌูู ุงูุฎุฑูุฌ</span>
                    </a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Orders Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="page-header-content">
                <div class="page-title-section">
                    <h2 class="page-title">
                        <span class="title-icon">๐ฆ</span>
                        ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
                    </h2>
                    <p class="page-subtitle">ุนุฑุถ ูุฅุฏุงุฑุฉ ุฌููุน ุทูุจุงุชู</p>
                </div>
                <div class="page-stats-mini">
                    <div class="stat-mini">
                        <span class="stat-mini-value" id="totalOrdersCount">18</span>
                        <span class="stat-mini-label">ุฅุฌูุงูู ุงูุทูุจุงุช</span>
                    </div>
                    <div class="stat-mini">
                        <span class="stat-mini-value" id="pendingCount">5</span>
                        <span class="stat-mini-label">ููุฏ ุงูุงูุชุธุงุฑ</span>
                    </div>
                    <div class="stat-mini">
                        <span class="stat-mini-value" id="completedCount">10</span>
                        <span class="stat-mini-label">ููุชููุฉ</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Filters Section -->
    <section class="filters-section">
        <div class="container">
            <div class="filters-bar">
                <div class="filter-tabs">
                    <button class="filter-tab active" data-status="all" onclick="filterOrders('all')">
                        <span class="tab-icon">๐</span>
                        <span class="tab-text">ุงููู</span>
                        <span class="tab-count">18</span>
                    </button>
                    <button class="filter-tab" data-status="pending" onclick="filterOrders('pending')">
                        <span class="tab-icon">โณ</span>
                        <span class="tab-text">ููุฏ ุงูุงูุชุธุงุฑ</span>
                        <span class="tab-count">5</span>
                    </button>
                    <button class="filter-tab" data-status="confirmed" onclick="filterOrders('confirmed')">
                        <span class="tab-icon">โ</span>
                        <span class="tab-text">ูุคูุฏุฉ</span>
                        <span class="tab-count">3</span>
                    </button>
                    <button class="filter-tab" data-status="in_progress" onclick="filterOrders('in_progress')">
                        <span class="tab-icon">๐</span>
                        <span class="tab-text">ุฌุงุฑู ุงูุนูู</span>
                        <span class="tab-count">2</span>
                    </button>
                    <button class="filter-tab" data-status="completed" onclick="filterOrders('completed')">
                        <span class="tab-icon">โ๏ธ</span>
                        <span class="tab-text">ููุชููุฉ</span>
                        <span class="tab-count">8</span>
                    </button>
                    <button class="filter-tab" data-status="cancelled" onclick="filterOrders('cancelled')">
                        <span class="tab-icon">โ</span>
                        <span class="tab-text">ููุบูุฉ</span>
                        <span class="tab-count">0</span>
                    </button>
                </div>
                <div class="filter-actions">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="๐ ุงูุจุญุซ ุนู ุทูุจ..." onkeyup="searchOrders()">
                    </div>
                    <select class="sort-select" id="sortSelect" onchange="sortOrders()">
                        <option value="newest">ุงูุฃุญุฏุซ ุฃููุงู</option>
                        <option value="oldest">ุงูุฃูุฏู ุฃููุงู</option>
                        <option value="price-high">ุงูุณุนุฑ: ูู ุงูุฃุนูู</option>
                        <option value="price-low">ุงูุณุนุฑ: ูู ุงูุฃูู</option>
                    </select>
                </div>
            </div>
        </div>
    </section>

    <!-- Orders List -->
    <section class="orders-main-section">
        <div class="container">
            <div class="orders-grid" id="ordersGrid">
                <!-- Pending Orders -->
                <div class="order-card order-pending" data-status="pending" data-price="350" data-date="2024-02-11">
                    <div class="order-header">
                        <div class="order-info">
                            <h3 class="order-number">#ORD-20240211-001</h3>
                            <span class="order-status status-pending">โณ ููุฏ ุงูุงูุชุธุงุฑ</span>
                        </div>
                        <div class="order-time">
                            <span class="time-icon">๐</span>
                            <span>ููุฐ 15 ุฏูููุฉ</span>
                        </div>
                    </div>
                    <div class="order-body">
                        <div class="customer-info">
                            <span class="customer-icon">๐ค</span>
                            <span class="customer-name">ุฃุญูุฏ ูุญููุฏ</span>
                            <span class="customer-phone">๐ 01012345678</span>
                        </div>
                        <div class="service-description">
                            <p>๐ง ุตูุงูุฉ ุชูููู - ูุดููุฉ ูู ุงูุชุจุฑูุฏ</p>
                            <p class="address">๐ ุดุงุฑุน ุงููุฒูุฉุ ุจุฑุฌ ุงูุณูุงูุ ุงูุฏูุฑ ุงูุซุงูุซ</p>
                        </div>
                        <div class="order-details-grid">
                            <div class="detail-item">
                                <span class="detail-label">๐ ุงูุชุงุฑูุฎ:</span>
                                <span class="detail-value">2024-02-11</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">โฐ ุงูููุช:</span>
                                <span class="detail-value">02:30 ู</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">๐ต ุงูุณุนุฑ:</span>
                                <span class="detail-value">350 ุฌููู</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">๐ ุงูุชูุตูู:</span>
                                <span class="detail-value">ูุฌุงูู</span>
                            </div>
                        </div>
                        <div class="order-notes">
                            <strong>๐ ููุงุญุธุงุช ุงูุนููู:</strong>
                            <p>ุงูุฑุฌุงุก ุงูุญุถูุฑ ูู ุงูููุนุฏ ุงููุญุฏุฏุ ุงูุชูููู ูู ุบุฑูุฉ ุงูููู.</p>
                        </div>
                    </div>
                    <div class="order-actions">
                        <button class="btn-accept" onclick="acceptOrder('ORD-20240211-001')">
                            โ ูุจูู
                        </button>
                        <button class="btn-reject" onclick="rejectOrder('ORD-20240211-001')">
                            โ ุฑูุถ
                        </button>
                        <button class="btn-call" onclick="callCustomer('01012345678')">
                            ๐ ุงุชุตุงู
                        </button>
                        <button class="btn-whatsapp" onclick="whatsappCustomer('01012345678')">
                            ๐ฌ ูุงุชุณุงุจ
                        </button>
                    </div>
                </div>

                <!-- Confirmed Order -->
                <div class="order-card order-confirmed" data-status="confirmed" data-price="200" data-date="2024-02-11">
                    <div class="order-header">
                        <div class="order-info">
                            <h3 class="order-number">#ORD-20240211-002</h3>
                            <span class="order-status status-confirmed">โ ูุคูุฏ</span>
                        </div>
                        <div class="order-time">
                            <span class="time-icon">๐</span>
                            <span>ููุฐ ุณุงุนุฉ</span>
                        </div>
                    </div>
                    <div class="order-body">
                        <div class="customer-info">
                            <span class="customer-icon">๐ค</span>
                            <span class="customer-name">ูุงุทูุฉ ุนูู</span>
                            <span class="customer-phone">๐ 01098765432</span>
                        </div>
                        <div class="service-description">
                            <p>๐ก ุชุฑููุจ ููุจุงุช LED ูู ุงูุดูุฉ</p>
                            <p class="address">๐ ุนูุงุฑุงุช ุงูุดุฑููุ ุงูุฏูุฑ ุงูุฎุงูุณ</p>
                        </div>
                        <div class="order-details-grid">
                            <div class="detail-item">
                                <span class="detail-label">๐ ุงูุชุงุฑูุฎ:</span>
                                <span class="detail-value">2024-02-11</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">โฐ ุงูููุช:</span>
                                <span class="detail-value">01:15 ู</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">๐ต ุงูุณุนุฑ:</span>
                                <span class="detail-value">200 ุฌููู</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">๐ ุงูุชูุตูู:</span>
                                <span class="detail-value">ูุฌุงูู</span>
                            </div>
                        </div>
                    </div>
                    <div class="order-actions">
                        <button class="btn-start" onclick="startOrder('ORD-20240211-002')">
                            ๐ ุจุฏุก ุงูุนูู
                        </button>
                        <button class="btn-cancel" onclick="cancelOrder('ORD-20240211-002')">
                            โ ุฅูุบุงุก
                        </button>
                        <button class="btn-call" onclick="callCustomer('01098765432')">
                            ๐ ุงุชุตุงู
                        </button>
                    </div>
                </div>

                <!-- In Progress Order -->
                <div class="order-card order-progress" data-status="in_progress" data-price="500" data-date="2024-02-11">
                    <div class="order-header">
                        <div class="order-info">
                            <h3 class="order-number">#ORD-20240211-003</h3>
                            <span class="order-status status-progress">๐ ุฌุงุฑู ุงูุนูู</span>
                        </div>
                        <div class="order-time">
                            <span class="time-icon">๐</span>
                            <span>ููุฐ 3 ุณุงุนุงุช</span>
                        </div>
                    </div>
                    <div class="order-body">
                        <div class="customer-info">
                            <span class="customer-icon">๐ค</span>
                            <span class="customer-name">ูุญูุฏ ุญุณู</span>
                            <span class="customer-phone">๐ 01155556666</span>
                        </div>
                        <div class="service-description">
                            <p>๐ฐ ุฅุตูุงุญ ุชุณุฑูุจ ููุงู ูู ุงูุญูุงู</p>
                            <p class="address">๐ ุดุงุฑุน ุงูุฌุณุฑุ ูููุง ุฑูู 12</p>
                        </div>
                        <div class="order-details-grid">
                            <div class="detail-item">
                                <span class="detail-label">๐ ุงูุชุงุฑูุฎ:</span>
                                <span class="detail-value">2024-02-11</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">โฐ ุจุฏุฃ:</span>
                                <span class="detail-value">11:00 ุต</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">๐ต ุงูุณุนุฑ:</span>
                                <span class="detail-value">500 ุฌููู</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">โฑ๏ธ ุงููุฏุฉ:</span>
                                <span class="detail-value">3 ุณุงุนุงุช</span>
                            </div>
                        </div>
                        <div class="progress-tracker">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 60%"></div>
                            </div>
                            <span class="progress-text">60% ููุชูู</span>
                        </div>
                    </div>
                    <div class="order-actions">
                        <button class="btn-complete" onclick="completeOrder('ORD-20240211-003')">
                            โ ุฅููุงุก
                        </button>
                        <button class="btn-call" onclick="callCustomer('01155556666')">
                            ๐ ุงุชุตุงู
                        </button>
                    </div>
                </div>

                <!-- Completed Order -->
                <div class="order-card order-completed" data-status="completed" data-price="450" data-date="2024-02-10">
                    <div class="order-header">
                        <div class="order-info">
                            <h3 class="order-number">#ORD-20240210-015</h3>
                            <span class="order-status status-completed">โ๏ธ ููุชูู</span>
                        </div>
                        <div class="order-time">
                            <span class="time-icon">๐</span>
                            <span>ููุฐ ููู</span>
                        </div>
                    </div>
                    <div class="order-body">
                        <div class="customer-info">
                            <span class="customer-icon">๐ค</span>
                            <span class="customer-name">ุณุงุฑุฉ ุฃุญูุฏ</span>
                            <span class="customer-phone">๐ 01044445555</span>
                        </div>
                        <div class="service-description">
                            <p>๐ ุชุฑููุจ ุณุฎุงู ููุฑุจุงุฆู ุฌุฏูุฏ</p>
                            <p class="address">๐ ุดุงุฑุน ุงููุฏุงุฑุณุ ุนูุงุฑุฉ 5ุ ุดูุฉ 12</p>
                        </div>
                        <div class="order-details-grid">
                            <div class="detail-item">
                                <span class="detail-label">๐ ุงูุชุงุฑูุฎ:</span>
                                <span class="detail-value">2024-02-10</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">โ ุงูุชูู:</span>
                                <span class="detail-value">05:30 ู</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">๐ต ุงูุณุนุฑ:</span>
                                <span class="detail-value">450 ุฌููู</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">โญ ุงูุชูููู:</span>
                                <span class="detail-value">โญโญโญโญโญ</span>
                            </div>
                        </div>
                        <div class="order-review">
                            <strong>๐ฌ ุชุนููู ุงูุนููู:</strong>
                            <p>"ุฎุฏูุฉ ููุชุงุฒุฉุ ุณุฑูุน ููุญุชุฑู. ุดูุฑุงู ุฌุฒููุงู!"</p>
                        </div>
                    </div>
                    <div class="order-actions">
                        <button class="btn-invoice" onclick="viewInvoice('ORD-20240210-015')">
                            ๐งพ ุงููุงุชูุฑุฉ
                        </button>
                    </div>
                </div>
            </div>

            <!-- Pagination -->
            <div class="pagination">
                <button class="page-btn" onclick="changePage('prev')">โ ุงูุณุงุจู</button>
                <button class="page-btn active">1</button>
                <button class="page-btn">2</button>
                <button class="page-btn">3</button>
                <button class="page-btn" onclick="changePage('next')">ุงูุชุงูู โ</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="vendor-footer">
        <div class="container">
            <div class="footer-content">
                <p>ยฉ 2024 ุฎุฏูุงุช ุงููุฒูุฉ 2 - ุฌููุน ุงูุญููู ูุญููุธุฉ</p>
                <div class="footer-links">
                    <a href="#">๐ ุงูุฏุนู ุงูููู</a>
                    <a href="#">โ ุงููุณุงุนุฏุฉ</a>
                    <a href="#">๐ ุงูุดุฑูุท ูุงูุฃุญูุงู</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="./api-client.js"></script>
    <script>
        // Hide loading screen
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loadingScreen').style.display = 'none';
            }, 500);
        });

        // Filter orders by status
        function filterOrders(status) {
            const tabs = document.querySelectorAll('.filter-tab');
            const orders = document.querySelectorAll('.order-card');
            
            tabs.forEach(tab => {
                if (tab.dataset.status === status) {
                    tab.classList.add('active');
                } else {
                    tab.classList.remove('active');
                }
            });
            
            orders.forEach(order => {
                if (status === 'all' || order.dataset.status === status) {
                    order.style.display = 'block';
                } else {
                    order.style.display = 'none';
                }
            });
        }

        // Search orders
        function searchOrders() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const orders = document.querySelectorAll('.order-card');
            
            orders.forEach(order => {
                const text = order.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    order.style.display = 'block';
                } else {
                    order.style.display = 'none';
                }
            });
        }

        // Sort orders
        function sortOrders() {
            const sortValue = document.getElementById('sortSelect').value;
            const grid = document.getElementById('ordersGrid');
            const orders = Array.from(grid.querySelectorAll('.order-card'));
            
            orders.sort((a, b) => {
                if (sortValue === 'newest') {
                    return new Date(b.dataset.date) - new Date(a.dataset.date);
                } else if (sortValue === 'oldest') {
                    return new Date(a.dataset.date) - new Date(b.dataset.date);
                } else if (sortValue === 'price-high') {
                    return parseInt(b.dataset.price) - parseInt(a.dataset.price);
                } else if (sortValue === 'price-low') {
                    return parseInt(a.dataset.price) - parseInt(b.dataset.price);
                }
            });
            
            orders.forEach(order => grid.appendChild(order));
        }

        // Order actions
        function acceptOrder(orderId) {
            showNotification('ุชู ูุจูู ุงูุทูุจ ' + orderId, 'success');
            setTimeout(() => location.reload(), 1000);
        }

        function rejectOrder(orderId) {
            if (confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุฑูุถ ูุฐุง ุงูุทูุจุ')) {
                showNotification('ุชู ุฑูุถ ุงูุทูุจ ' + orderId, 'warning');
                setTimeout(() => location.reload(), 1000);
            }
        }

        function startOrder(orderId) {
            showNotification('ุชู ุจุฏุก ุงูุนูู ุนูู ุงูุทูุจ ' + orderId, 'info');
            setTimeout(() => location.reload(), 1000);
        }

        function completeOrder(orderId) {
            if (confirm('ูู ุชู ุฅููุงุก ุงูุนูู ุนูู ูุฐุง ุงูุทูุจุ')) {
                showNotification('ุชู ุฅููุงุก ุงูุทูุจ ' + orderId + ' ุจูุฌุงุญ', 'success');
                setTimeout(() => location.reload(), 1000);
            }
        }

        function cancelOrder(orderId) {
            const reason = prompt('ูุง ุณุจุจ ุงูุฅูุบุงุกุ');
            if (reason) {
                showNotification('ุชู ุฅูุบุงุก ุงูุทูุจ ' + orderId, 'warning');
                setTimeout(() => location.reload(), 1000);
            }
        }

        function callCustomer(phone) {
            window.location.href = 'tel:' + phone;
        }

        function whatsappCustomer(phone) {
            window.open('https://wa.me/2' + phone, '_blank');
        }

        function viewInvoice(orderId) {
            showNotification('ุฌุงุฑู ูุชุญ ุงููุงุชูุฑุฉ...', 'info');
            // TODO: Open invoice
        }

        function changePage(direction) {
            showNotification('ุงูุงูุชูุงู ุฅูู ุงูุตูุญุฉ...', 'info');
            // TODO: Handle pagination
        }

        // Logout
        document.getElementById('logoutBtn')?.addEventListener('click', (e) => {
            e.preventDefault();
            if (confirm('ูู ุชุฑูุฏ ุชุณุฌูู ุงูุฎุฑูุฌุ')) {
                showNotification('ุชู ุชุณุฌูู ุงูุฎุฑูุฌ ุจูุฌุงุญ', 'info');
                setTimeout(() => {
                    location.href = 'index.html';
                }, 1500);
            }
        });

        // Notification system
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>
